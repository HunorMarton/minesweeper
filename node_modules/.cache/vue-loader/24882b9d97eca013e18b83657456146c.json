{"remainingRequest":"/Users/hunor/projects/minesweeper/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hunor/projects/minesweeper/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hunor/projects/minesweeper/src/App.vue","mtime":1598293695568},{"path":"/Users/hunor/projects/minesweeper/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/hunor/projects/minesweeper/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hunor/projects/minesweeper/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUaWxlIGZyb20gIi4vY29tcG9uZW50cy9UaWxlIjsKaW1wb3J0IFRpbWVyIGZyb20gIi4vY29tcG9uZW50cy9UaW1lciI7CmltcG9ydCB7IGdlbmVyYXRlVGlsZXMsIGdldENvb3JkaW5hdGVzLCBnZXRJbmRleCB9IGZyb20gIi4vdXRpbHMiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBcHAiLAogIGNvbXBvbmVudHM6IHsKICAgIFRpbGUsCiAgICBUaW1lciwKICB9LAogIGRhdGE6ICgpID0+ICh7CiAgICBjb25maWc6IHt9LCAvLyBJbml0aWFsaXplZCBpbiBjcmVhdGVkIGxpZmVjeWNsZSBob29rCiAgICB0aWxlczogW10sIC8vIEluaXRpYWxpemVkIGluIGNyZWF0ZWQgbGlmZWN5Y2xlIGhvb2sKICB9KSwKICBjcmVhdGVkKCkgewogICAgLy8gQXQgaW5pdGlhbGl6YXRpb24gc2V0IHRoZSBnYW1lIGRpZmZpY3VsdHkgdG8gYmVnaW5uZXIgYW5kIHJlLXJlbmRlciB0aGUgZ2FtZQogICAgdGhpcy5zZXRCZWdpbm5lckRpZmZpY3VsdHkoKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjc3NWYXJzKCkgewogICAgICByZXR1cm4gewogICAgICAgICItLXdpZHRoIjogdGhpcy5jb25maWcud2lkdGgsCiAgICAgICAgIi0taGVpZ2h0IjogdGhpcy5jb25maWcuaGVpZ2h0LAogICAgICAgICItLXNpemUiOiBgJHt0aGlzLmNvbmZpZy5zaXplfXB4YCwKICAgICAgfTsKICAgIH0sCiAgICBib21ic1JlbWFpbmluZygpIHsKICAgICAgLy8gUmVkdWNlIHRvdGFsIG51bWJlciBvZiBib21icyBieSB0aGUgbnVtYmVyIG9mIGZsYWdnZWQgdGlsZXMKICAgICAgY29uc3QgbnVtYmVyT2ZGbGFnZ2VkVGlsZXMgPSB0aGlzLnRpbGVzLmZpbHRlcigodCkgPT4gdC5mbGFnZ2VkKS5sZW5ndGg7CiAgICAgIHJldHVybiB0aGlzLmNvbmZpZy50b3RhbE51bWJlck9mQm9tYnMgLSBudW1iZXJPZkZsYWdnZWRUaWxlczsKICAgIH0sCiAgICBnYW1lSW5Qcm9ncmVzcygpIHsKICAgICAgLy8gSWYgZ2FtZSBoYXMgZW5kZWQgYWxyZWFkeSB0aGVuIHJldHVybiBmYWxzZQogICAgICBpZiAodGhpcy5nYW1lV29uIHx8IHRoaXMuZ2FtZUZhaWxlZCkgcmV0dXJuIGZhbHNlOwogICAgICAvLyBJZiB0aWxlcyBhcmUgcmV2ZWFsZWQgdGhlbiByZXR1cm4gdHJ1ZQogICAgICBpZiAodGhpcy50aWxlcy5maW5kKCh0aWxlKSA9PiB0aWxlLnJldmVhbGVkKSkgcmV0dXJuIHRydWU7CiAgICAgIC8vIElmIGdhbWUgaGF2ZW4ndCBldmVuIHN0YXJ0ZWQgdGhlbiByZXR1cm4gZmFsc2UKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSwKICAgIGdhbWVGYWlsZWQoKSB7CiAgICAgIC8vIE9uY2UgeW91IHJldmVhbCBhIHRpbGUgdGhhdCBjb250YWlucyBhIGJvbWIgeW91IGZhaWxlZAogICAgICByZXR1cm4gdGhpcy50aWxlcy5maW5kKCh0aWxlKSA9PiB0aWxlLmJvbWIgJiYgdGlsZS5yZXZlYWxlZCkgIT0gdW5kZWZpbmVkOwogICAgfSwKICAgIGdhbWVXb24oKSB7CiAgICAgIC8vIFRvIHdpbiB0aGUgZ2FtZSB5b3UgbmVlZCB0byByZXZlYWwgYWxsIHRoZSB0aWxlcyB0aGF0IGRvIG5vdCBjb250YWluIGEgYm9tYgogICAgICBjb25zdCB0aWxlc1JldmVhbGVkID0gdGhpcy50aWxlcy5maWx0ZXIoKHRpbGUpID0+IHRpbGUucmV2ZWFsZWQpLmxlbmd0aDsKICAgICAgcmV0dXJuICgKICAgICAgICB0aWxlc1JldmVhbGVkICsgdGhpcy5jb25maWcudG90YWxOdW1iZXJPZkJvbWJzID09CiAgICAgICAgdGhpcy5jb25maWcud2lkdGggKiB0aGlzLmNvbmZpZy5oZWlnaHQKICAgICAgKTsKICAgIH0sCiAgICBnYW1lU3RhdHVzKCkgewogICAgICBpZiAodGhpcy5nYW1lRmFpbGVkKSByZXR1cm4gIvCfmJQiOwogICAgICBpZiAodGhpcy5nYW1lV29uKSByZXR1cm4gIvCfmI4iOwogICAgICByZXR1cm4gIvCfmYIiOwogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIHNldEJlZ2lubmVyRGlmZmljdWx0eSgpIHsKICAgICAgdGhpcy5jb25maWcgPSB7CiAgICAgICAgd2lkdGg6IDgsCiAgICAgICAgaGVpZ2h0OiA4LAogICAgICAgIHRvdGFsTnVtYmVyT2ZCb21iczogMTAsCiAgICAgICAgc2l6ZTogNTAsCiAgICAgIH07CiAgICAgIHRoaXMucmVzZXQoKTsKICAgIH0sCiAgICBzZXRJbnRlcm1lZGlhdGVEaWZmaWN1bHR5KCkgewogICAgICB0aGlzLmNvbmZpZyA9IHsKICAgICAgICB3aWR0aDogMTYsCiAgICAgICAgaGVpZ2h0OiAxNiwKICAgICAgICB0b3RhbE51bWJlck9mQm9tYnM6IDQwLAogICAgICAgIHNpemU6IDM1LAogICAgICB9OwogICAgICB0aGlzLnJlc2V0KCk7CiAgICB9LAogICAgc2V0RXhwZXJ0RGlmZmljdWx0eSgpIHsKICAgICAgdGhpcy5jb25maWcgPSB7CiAgICAgICAgd2lkdGg6IDMwLAogICAgICAgIGhlaWdodDogMTYsCiAgICAgICAgdG90YWxOdW1iZXJPZkJvbWJzOiA5OSwKICAgICAgICBzaXplOiAyNSwKICAgICAgfTsKICAgICAgdGhpcy5yZXNldCgpOwogICAgfSwKICAgIHJlc2V0KCkgewogICAgICAvLyBSZXNldCB0aWxlcyBiYXNlZCBvbiB0aGUgY29uZmlnCiAgICAgIHRoaXMudGlsZXMgPSBnZW5lcmF0ZVRpbGVzKHRoaXMuY29uZmlnKTsKICAgIH0sCiAgICByZXZlYWwoaSkgewogICAgICAvLyBEbyBub3RoaW5nIGlmIHRoZSBnYW1lIGhhcyBhbHJlYWR5IGZhaWxlZAogICAgICBpZiAodGhpcy5nYW1lRmFpbGVkKSByZXR1cm47CgogICAgICAvLyBEbyBub3RoaW5nIGluIGNhc2Ugb2Ygd3JvbmcgaW5wdXQKICAgICAgLy8gVGhpcyBjYW4gaGFwcGVuIHdoZW4gdGhlIG5laWdoYm91cnMgb2YgYSB0aWxlIGFyZSBiZWluZyByZXZlYWxlZCBhbmQgdGhlICduZWlnaGJvdXInIGlzIG91dCBvZiB0aGUgZmllbGQKICAgICAgaWYgKGkgPT0gdW5kZWZpbmVkKSByZXR1cm47CgogICAgICBjb25zdCB0aWxlID0gdGhpcy50aWxlc1tpXTsKCiAgICAgIC8vIFlvdSBjYW4ndCByZXZlYWwgYSBmbGFnZ2VkIHRpbGUsIHlvdSBuZWVkIHRvIHVuZmxhZyBpdCBmaXJzdAogICAgICBpZiAodGlsZS5mbGFnZ2VkKSByZXR1cm47CgogICAgICAvLyBPbmx5IHJldmVhbCBhIHRpbGUgaWYgaXQgaXMgbm90IHJldmVhbGVkIGFscmVhZHkKICAgICAgLy8gQXZvaWRzIGluZmluaXRlIGxvb3Agb2YgdGlsZSByZXZlYWxpbmcgaXQncyBuZWlnaGJvdXIgdGhlbiBuZWlnaGJvdXIgcmV2ZWFsaW5nIHRoZSBvcmlnaW5hbCB0aWxlCiAgICAgIGlmICghdGlsZS5yZXZlYWxlZCkgewogICAgICAgIC8vIFJldmVhbCB0aWxlCiAgICAgICAgdGlsZS5yZXZlYWxlZCA9IHRydWU7CgogICAgICAgIC8vIElmIHRoZSB0aWxlIGlzIGVtcHR5LCBhbHNvIHJldmVhbCB0aGUgbmVpZ2hib3VyIHRpbGVzCiAgICAgICAgaWYgKCF0aWxlLmJvbWIgJiYgdGlsZS5zdXJyb3VuZGluZ0JvbWJzID09IDApIHsKICAgICAgICAgIGNvbnN0IHsgcm93LCBjb2x1bW4gfSA9IGdldENvb3JkaW5hdGVzKGksIHRoaXMuY29uZmlnKTsKCiAgICAgICAgICB0aGlzLnJldmVhbChnZXRJbmRleChyb3cgLSAxLCBjb2x1bW4gLSAxLCB0aGlzLmNvbmZpZykpOyAvLyBSZXZlYWwgdG9wIGxlZnQgbmVpZ2hib3VyCiAgICAgICAgICB0aGlzLnJldmVhbChnZXRJbmRleChyb3cgLSAxLCBjb2x1bW4gLSAwLCB0aGlzLmNvbmZpZykpOyAvLyBSZXZlYWwgdG9wIG5laWdoYm91cgogICAgICAgICAgdGhpcy5yZXZlYWwoZ2V0SW5kZXgocm93IC0gMSwgY29sdW1uICsgMSwgdGhpcy5jb25maWcpKTsgLy8gUmV2ZWFsIHRvcCByaWdodCBuZWlnaGJvdXIKICAgICAgICAgIHRoaXMucmV2ZWFsKGdldEluZGV4KHJvdyAtIDAsIGNvbHVtbiAtIDEsIHRoaXMuY29uZmlnKSk7IC8vIFJldmVhbCBsZWZ0IG5laWdoYm91cgogICAgICAgICAgdGhpcy5yZXZlYWwoZ2V0SW5kZXgocm93IC0gMCwgY29sdW1uICsgMSwgdGhpcy5jb25maWcpKTsgLy8gUmV2ZWFsIHJpZ2h0IG5laWdoYm91cgogICAgICAgICAgdGhpcy5yZXZlYWwoZ2V0SW5kZXgocm93ICsgMSwgY29sdW1uIC0gMSwgdGhpcy5jb25maWcpKTsgLy8gUmV2ZWFsIGJvdHRvbSBsZWZ0IG5laWdoYm91cgogICAgICAgICAgdGhpcy5yZXZlYWwoZ2V0SW5kZXgocm93ICsgMSwgY29sdW1uIC0gMCwgdGhpcy5jb25maWcpKTsgLy8gUmV2ZWFsIGJvdHRvbSBuZWlnaGJvdXIKICAgICAgICAgIHRoaXMucmV2ZWFsKGdldEluZGV4KHJvdyArIDEsIGNvbHVtbiArIDEsIHRoaXMuY29uZmlnKSk7IC8vIFJldmVhbCBib3R0b20gcmlnaHQgbmVpZ2hib3VyCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZmxhZyhpKSB7CiAgICAgIC8vIERvIG5vdGhpbmcgaWYgdGhlIGdhbWUgaGFzIGFscmVhZHkgZmFpbGVkCiAgICAgIGlmICh0aGlzLmdhbWVGYWlsZWQpIHJldHVybjsKCiAgICAgIC8vIERvIG5vdGhpbmcgaWYgdGhlIHRpbGUgaXMgYWxlcmFkeSByZXZlYWxlZAogICAgICBpZiAodGhpcy50aWxlc1tpXS5yZXZlYWxlZCkgcmV0dXJuOwoKICAgICAgLy8gRmxhZyBvciB1bmZsYWcgdGlsZQogICAgICB0aGlzLnRpbGVzW2ldLmZsYWdnZWQgPSAhdGhpcy50aWxlc1tpXS5mbGFnZ2VkOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div class=\"v-container\">\n    <header>\n      <button @click=\"setBeginnerDifficulty\">Beginner</button>\n      <button @click=\"setIntermediateDifficulty\">Intermediate</button>\n      <button @click=\"setExpertDifficulty\">Expert</button>\n    </header>\n    <div class=\"h-container\">\n      <div class=\"v-container\">\n        <main :style=\"cssVars\">\n          <div class=\"status\">\n            <div>{{ bombsRemaining }}</div>\n            <button @click=\"reset\">{{ gameStatus }}</button>\n            <Timer :gameInProgress=\"gameInProgress\" />\n          </div>\n          <div class=\"board\">\n            <Tile\n              v-for=\"(tile, index) in tiles\"\n              :key=\"index\"\n              :tile=\"tile\"\n              :gameFailed=\"gameFailed\"\n              @flag=\"flag(index)\"\n              @reveal=\"reveal(index)\"\n            />\n          </div>\n        </main>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Tile from \"./components/Tile\";\nimport Timer from \"./components/Timer\";\nimport { generateTiles, getCoordinates, getIndex } from \"./utils\";\n\nexport default {\n  name: \"App\",\n  components: {\n    Tile,\n    Timer,\n  },\n  data: () => ({\n    config: {}, // Initialized in created lifecycle hook\n    tiles: [], // Initialized in created lifecycle hook\n  }),\n  created() {\n    // At initialization set the game difficulty to beginner and re-render the game\n    this.setBeginnerDifficulty();\n  },\n  computed: {\n    cssVars() {\n      return {\n        \"--width\": this.config.width,\n        \"--height\": this.config.height,\n        \"--size\": `${this.config.size}px`,\n      };\n    },\n    bombsRemaining() {\n      // Reduce total number of bombs by the number of flagged tiles\n      const numberOfFlaggedTiles = this.tiles.filter((t) => t.flagged).length;\n      return this.config.totalNumberOfBombs - numberOfFlaggedTiles;\n    },\n    gameInProgress() {\n      // If game has ended already then return false\n      if (this.gameWon || this.gameFailed) return false;\n      // If tiles are revealed then return true\n      if (this.tiles.find((tile) => tile.revealed)) return true;\n      // If game haven't even started then return false\n      return false;\n    },\n    gameFailed() {\n      // Once you reveal a tile that contains a bomb you failed\n      return this.tiles.find((tile) => tile.bomb && tile.revealed) != undefined;\n    },\n    gameWon() {\n      // To win the game you need to reveal all the tiles that do not contain a bomb\n      const tilesRevealed = this.tiles.filter((tile) => tile.revealed).length;\n      return (\n        tilesRevealed + this.config.totalNumberOfBombs ==\n        this.config.width * this.config.height\n      );\n    },\n    gameStatus() {\n      if (this.gameFailed) return \"ðŸ˜”\";\n      if (this.gameWon) return \"ðŸ˜Ž\";\n      return \"ðŸ™‚\";\n    },\n  },\n  methods: {\n    setBeginnerDifficulty() {\n      this.config = {\n        width: 8,\n        height: 8,\n        totalNumberOfBombs: 10,\n        size: 50,\n      };\n      this.reset();\n    },\n    setIntermediateDifficulty() {\n      this.config = {\n        width: 16,\n        height: 16,\n        totalNumberOfBombs: 40,\n        size: 35,\n      };\n      this.reset();\n    },\n    setExpertDifficulty() {\n      this.config = {\n        width: 30,\n        height: 16,\n        totalNumberOfBombs: 99,\n        size: 25,\n      };\n      this.reset();\n    },\n    reset() {\n      // Reset tiles based on the config\n      this.tiles = generateTiles(this.config);\n    },\n    reveal(i) {\n      // Do nothing if the game has already failed\n      if (this.gameFailed) return;\n\n      // Do nothing in case of wrong input\n      // This can happen when the neighbours of a tile are being revealed and the 'neighbour' is out of the field\n      if (i == undefined) return;\n\n      const tile = this.tiles[i];\n\n      // You can't reveal a flagged tile, you need to unflag it first\n      if (tile.flagged) return;\n\n      // Only reveal a tile if it is not revealed already\n      // Avoids infinite loop of tile revealing it's neighbour then neighbour revealing the original tile\n      if (!tile.revealed) {\n        // Reveal tile\n        tile.revealed = true;\n\n        // If the tile is empty, also reveal the neighbour tiles\n        if (!tile.bomb && tile.surroundingBombs == 0) {\n          const { row, column } = getCoordinates(i, this.config);\n\n          this.reveal(getIndex(row - 1, column - 1, this.config)); // Reveal top left neighbour\n          this.reveal(getIndex(row - 1, column - 0, this.config)); // Reveal top neighbour\n          this.reveal(getIndex(row - 1, column + 1, this.config)); // Reveal top right neighbour\n          this.reveal(getIndex(row - 0, column - 1, this.config)); // Reveal left neighbour\n          this.reveal(getIndex(row - 0, column + 1, this.config)); // Reveal right neighbour\n          this.reveal(getIndex(row + 1, column - 1, this.config)); // Reveal bottom left neighbour\n          this.reveal(getIndex(row + 1, column - 0, this.config)); // Reveal bottom neighbour\n          this.reveal(getIndex(row + 1, column + 1, this.config)); // Reveal bottom right neighbour\n        }\n      }\n    },\n    flag(i) {\n      // Do nothing if the game has already failed\n      if (this.gameFailed) return;\n\n      // Do nothing if the tile is alerady revealed\n      if (this.tiles[i].revealed) return;\n\n      // Flag or unflag tile\n      this.tiles[i].flagged = !this.tiles[i].flagged;\n    },\n  },\n};\n</script>\n\n<style>\n@import url(\"https://fonts.googleapis.com/css2?family=Roboto&family=Ubuntu:wght@700&display=swap\");\n\nhtml {\n  height: 100%;\n}\n\nbody {\n  background-color: #006989;\n  font-family: \"Roboto\", sans-serif;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  text-align: center;\n}\n\n.h-container {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  height: 100%;\n}\n\n.v-container {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  height: 100%;\n}\n\nbutton {\n  background-color: inherit;\n  border: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: inherit;\n}\n\nbutton:focus {\n  outline: none;\n}\n\na:visited {\n  color: inherit;\n}\n\nheader {\n  background-color: #0b2027;\n}\n\nheader button {\n  color: #d4d4d4;\n  padding: 20px 30px;\n}\n\nmain {\n  background-color: #d4d4d4;\n  border-radius: calc(var(--size) / 10);\n  font-family: \"Ubuntu Mono\", monospace;\n  font-weight: 700;\n  padding: 0 20px 20px 20px;\n}\n\n.status {\n  align-items: center;\n  color: #0b2027;\n  display: flex;\n  flex-direction: row;\n  font-size: 2em;\n  justify-content: space-between;\n  margin: 15px 0;\n}\n\n.status button {\n  box-shadow: inset 4px 4px 0px 0px rgba(255, 255, 255, 0.45),\n    inset -4px -4px 0px 0px rgba(0, 0, 0, 0.25);\n  border-radius: 5px;\n}\n\n.board {\n  display: grid;\n  grid-template-columns: repeat(var(--width), auto);\n  grid-template-rows: repeat(var(--height), auto);\n  user-select: none;\n}\n</style>\n"]}]}